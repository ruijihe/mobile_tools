System.register(["./index-legacy-4c0c7845.js","./index-legacy-c0a9328d.js","./data-legacy-54d07846.js"],(function(e,l){"use strict";var t,o,a,n,s,i,r,c,u,d,h,v,p,m,f,w,g,b,x,y,k,F,C,B,_,L,S,T,I,M,R,z,H,j,P,$,O,W,A,U,D,E,q,V,N,G,K,J;return{setters:[e=>{t=e.c,o=e.E,a=e.F,n=e.d,s=e.G,i=e.h,r=e.m,c=e.j,u=e.t,d=e.H,h=e.i,v=e.I,p=e.q,m=e.J,f=e.p,w=e.K,g=e.a,b=e.r,x=e.L,y=e.M,k=e._,F=e.x,C=e.y,B=e.k,_=e.O,L=e.A,S=e.P,T=e.Q,I=e.R,M=e.S,R=e.z,z=e.T,H=e.U,j=e.V,P=e.B,$=e.W,O=e.X,W=e.Y,A=e.Z,U=e.C,D=e.D,E=e.f,q=e.$,V=e.a0},e=>{N=e.b,G=e._},e=>{K=e.u,J=e.m}],execute:function(){const[l,Q]=t("cell"),X={tag:r("div"),icon:String,size:String,title:c,value:c,label:c,center:Boolean,isLink:Boolean,border:u,required:Boolean,iconPrefix:String,valueClass:d,labelClass:d,titleClass:d,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},Y=o({},X,a);var Z=n({name:l,props:Y,setup(e,{slots:l}){const t=s(),o=()=>{if(l.label||h(e.label))return i("div",{class:[Q("label"),e.labelClass]},[l.label?l.label():e.label])},a=()=>{var t;if(l.title||h(e.title)){const a=null==(t=l.title)?void 0:t.call(l);if(Array.isArray(a)&&0===a.length)return;return i("div",{class:[Q("title"),e.titleClass],style:e.titleStyle},[a||i("span",null,[e.title]),o()])}},n=()=>{const t=l.value||l.default;if(t||h(e.value))return i("div",{class:[Q("value"),e.valueClass]},[t?t():i("span",null,[e.value])])},r=()=>{if(l["right-icon"])return l["right-icon"]();if(e.isLink){const l=e.arrowDirection&&"right"!==e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return i(v,{name:l,class:Q("right-icon")},null)}};return()=>{var o;const{tag:s,size:c,center:u,border:d,isLink:h,required:p}=e,m=null!=(o=e.clickable)?o:h,f={center:u,required:p,clickable:m,borderless:!d};return c&&(f[c]=!!c),i(s,{class:Q(f),role:m?"button":void 0,tabindex:m?0:void 0,onClick:t},{default:()=>{var t;return[l.icon?l.icon():e.icon?i(v,{name:e.icon,class:Q("left-icon"),classPrefix:e.iconPrefix},null):void 0,a(),n(),r(),null==(t=l.extra)?void 0:t.call(l)]}})}}});const ee=p(Z),[le,te]=t("cell-group"),oe={title:String,inset:Boolean,border:u};var ae=n({name:le,inheritAttrs:!1,props:oe,setup(e,{slots:l,attrs:t}){const o=()=>{var o;return i("div",f({class:[te({inset:e.inset}),{[w]:e.border&&!e.inset}]},t),[null==(o=l.default)?void 0:o.call(l)])};return()=>e.title||l.title?i(m,null,[i("div",{class:te("title",{inset:e.inset})},[l.title?l.title():e.title]),o()]):o()}});const ne=p(ae),se=n({setup(){const e=K(),l=g((()=>e.calculatorState)),t=g((()=>e.floorResult)),o=g((()=>e.calculatorType)),a=g((()=>e.calculatorValue)),n=b(""),s=e.changeCalculator,i=N.keyList,r=x("px2rem");return y((()=>{null!==a.value&&(n.value=a.value)})),{px2rem:r,keyList:i,store:e,calculatorState:l,changeCalculator:s,floorResult:t,result:n,handleButtonClick:l=>{if("="===l.value)try{n.value=(t=n.value,new Function(`return ${t}`)()).toFixed(1).toString()}catch(a){n.value="Error"}else"AC"===l.value?n.value="":"CM"===l.value||"CM"===l.value||("houtui"===l.icon?n.value=n.value.slice(0,-1):"取消"===l.value||("OK"===l.value?("floorResult"===o.value?e.$patch({floorResult:n.value}):"roomWidth"===o.value?(e.$patch({globalObj:{width:n.value}}),window.editor.list.changeRoomByInputForMobile.dispatch({roomWidth:n.value})):"roomHeight"===o.value?(e.$patch({globalObj:{height:n.value}}),window.editor.list.changeRoomByInputForMobile.dispatch({roomHeight:n.value})):"wallWidth"===o.value?(e.$patch({globalObj:{width:n.value}}),window.editor.list.changeRoomByInputForMobile.dispatch({wallWidth:n.value})):"wallHeight"===o.value&&(e.$patch({globalObj:{height:n.value}}),window.editor.list.changeRoomByInputForMobile.dispatch({wallHeight:n.value})),s("calculator","")):""===l.value||(n.value+=l.value)));var t},calculatorValue:a}}}),ie={class:"calculatorState"},re={class:"calculatorState-body"},ce={class:"key-container"},ue=k(se,[["render",function(e,l,t,o,a,n){const s=v,r=P;return F(),C(m,null,[B(L("div",{class:"overlay",onTouchstart:l[0]||(l[0]=S((l=>e.changeCalculator("overlay","")),["stop"]))},null,544),[[_,e.calculatorState]]),B(L("div",ie,[L("div",re,[L("div",ce,[B(L("input",{"onUpdate:modelValue":l[1]||(l[1]=l=>e.result=l),class:"floorInput bold font-n color-n",readonly:""},null,512),[[T,e.result,void 0,{trim:!0}]]),(F(!0),C(m,null,I(e.keyList,(l=>(F(),M(r,{key:l.value,color:l.color,class:j([l.class,"calculatorState-key flex-center color-n font-s"]),type:"success",onClick:t=>e.handleButtonClick(l)},{default:R((()=>[z(H(l.value)+" ",1),i(s,{size:"15",class:"iconfont buttonIcon","class-prefix":"icon",name:l.icon},null,8,["name"])])),_:2},1032,["color","class","onClick"])))),128))])])],512),[[_,e.calculatorState]])],64)}],["__scopeId","data-v-e503186d"]]),de={class:"modelInfo"},he={class:"infoLeft"},ve={class:"infoRight flex-start"},pe={key:0,class:"flex-start"},me={class:"font-l mh-2x"},fe={key:0,class:"flex-start"},we=L("span",{class:"mr-1x font-l"},"x",-1),ge={class:"buttonContainer flex-center"},be={key:1,class:"flex-start"},xe=L("span",{class:"font-l mh-1x"},"墙",-1),ye=L("span",{class:"mr-1x font-l"},"x",-1),ke={class:"buttonContainer flex-center"},Fe=n({__name:"index",setup(e){const l=K();let t=[];const o=l.changeCalculator,a=g((()=>l.globalObj)),n=(e,l)=>{l.lock=!l.lock,e?(l.icon="sisuo",l.class="checkedButton"):(l.icon="weisuoding",l.class="orangeButton")};return $((()=>{"room"===a.value.type?t=b(J.roomInfo):"wall"===a.value.type&&(t=b(J.wallInfo))})),(e,l)=>{const s=G,r=P,c=v,u=ue,d=O("router-view");return F(),C("div",de,[i(d,null,{default:R((()=>[L("div",he,[(F(!0),C(m,null,I(W(t),(e=>(F(),M(s,{key:e.name,"class-name":e.class,"button-height":"70px",name:e.name,icon:e.icon,onTouchstart:l=>(e=>{switch(e.name){case"删除":window.editor.list.deleteForMobile.dispatch("del");break;case"锁定":case"位置":window.editor.list.lockUnlockForMobile.dispatch({positionLock:e.lock}),n(e.lock,t.value[3]);break;case"旋转解锁":window.editor.list.lockUnlockForMobile.dispatch({rotationLock:e.lock}),n(e.lock,t.value[4]);break;case"长度":window.editor.list.lockUnlockForMobile.dispatch({lengthLock:e.lock}),n(e.lock,t.value[2])}})(e)},null,8,["class-name","name","icon","onTouchstart"])))),128))]),L("div",ve,["room"===a.value.type?(F(),C("div",pe,[L("span",me,H(a.value.area)+" m²",1),a.value.width?(F(),C("div",fe,[i(r,{class:"sizeButton font-l mh-2x",onTouchstart:l[0]||(l[0]=S((e=>W(o)("roomWidth",a.value.width)),["stop"]))},{default:R((()=>[z(H(a.value.width)+"mm ",1)])),_:1}),we,i(r,{class:"sizeButton font-l mr-1x",onTouchstart:l[1]||(l[1]=S((e=>W(o)("roomHeight",a.value.height)),["stop"]))},{default:R((()=>[z(H(a.value.height)+"mm ",1)])),_:1})])):A("",!0),i(r,{type:"success",class:"bg-orange color-n settingButton",to:""},{default:R((()=>[L("div",ge,[i(c,{size:"15",class:"iconfont","class-prefix":"icon",name:"Project"})])])),_:1})])):"wall"===a.value.type?(F(),C("div",be,[xe,i(r,{class:"sizeButton font-l mr-1x",onTouchstart:l[2]||(l[2]=S((e=>W(o)("wallWidth",a.value.width)),["stop"]))},{default:R((()=>[z(H(a.value.width)+"mm ",1)])),_:1}),ye,i(r,{class:"sizeButton font-l mr-1x",onTouchstart:l[3]||(l[3]=S((e=>W(o)("wallHeight",a.value.height)),["stop"]))},{default:R((()=>[z(H(a.value.height)+"mm ",1)])),_:1}),i(r,{type:"success",class:"bg-orange color-n settingButton",to:""},{default:R((()=>[L("div",ke,[i(c,{size:"15",class:"iconfont","class-prefix":"icon",name:"Project"})])])),_:1})])):A("",!0),i(u)])])),_:1})])}}}),Ce=n({setup:()=>({})}),Be={class:"canvas_box"},_e=[(e=>(U("data-v-4bd0f451"),e=e(),D(),e))((()=>L("div",{id:"box"},null,-1)))],Le=k(Ce,[["render",function(e,l,t,o,a,n){return F(),C("div",Be,_e)}],["__scopeId","data-v-4bd0f451"]]),Se=n({name:"HandleFloor",setup:()=>({handleFloorList:N.handleFloorList})}),Te={class:"handleFloorContainer bg-orange"},Ie=k(Se,[["render",function(e,l,t,o,a,n){const s=G;return F(),C("div",Te,[(F(!0),C(m,null,I(e.handleFloorList,(e=>(F(),M(s,{key:e.name,"class-name":"orangeButton","button-height":"70px",name:e.name,icon:e.icon},null,8,["name","icon"])))),128))])}],["__scopeId","data-v-d5343487"]]),Me=n({name:"EditorFloor",setup(){const e=x("px2rem"),l=K(),t=g((()=>l.floorResult)),o=g((()=>l.calculatorState)),a=l.changeCalculator;return{px2rem:e,calculatorState:o,store:l,changeCalculator:a,floorResult:t}}}),Re={class:"editorFloorContainer flex-start"},ze=L("span",{class:"font-l"},"未命名-01(47.01m²）",-1),He={class:"font-l flex-center white"},je={class:"buttonContainer flex-center"},Pe=k(Me,[["render",function(e,l,t,o,a,n){const s=P,r=v;return F(),C("div",Re,[ze,i(s,{readonly:"",class:"mr-1x bg-orange floorHeight",onTouchstart:l[0]||(l[0]=S((l=>e.changeCalculator("floorResult","")),["stop"]))},{default:R((()=>[L("span",He,H(e.floorResult)+"CM",1)])),_:1}),i(s,{type:"success",class:"bg-orange color-n floorSettingButton",to:"levelSetting"},{default:R((()=>[L("div",je,[i(r,{size:"15",class:"iconfont white","class-prefix":"icon",name:"Project"})])])),_:1})])}]]),$e=n({name:"NameFloor",setup:()=>({px2rem:x("px2rem")})}),Oe={class:"nameFloorContainer"},We=n({components:{HandleFloor:Ie,EditorFloor:Pe,NameFloor:k($e,[["render",function(e,l,t,o,a,n){const s=ee,r=ne;return F(),C("div",Oe,[i(r,{border:!1},{default:R((()=>[i(s,{border:!1,class:"font-s p-1x",title:"1F",value:"72㎡"}),i(s,{border:!1,class:"font-s p-1x",title:"2F",value:"72㎡"}),i(s,{border:!1,class:"font-s p-1x",title:"3F",value:"72㎡"}),i(s,{border:!1,class:"font-s p-1x",title:"4F",value:"72㎡"})])),_:1})])}]]),ModelInfo:Fe},setup(){E((()=>{window.loadTime=setInterval((()=>{window.editor.list&&0!==window.editor.list.pluginList._bindings.length&&d()}),100)}));const e=K(),l=b(!1),t=e.changeShowFloor,o=g((()=>e.showFloor)),a=e.changeShowFloor,n=g((()=>e.showModelInfo)),s=N.handelBtnList,i=N.handelBtnList,r=N.modelTypeList,c=g((()=>e.modelType)),u=x("px2rem"),d=()=>{window.editor.list.pluginList.dispatch("ok"),clearInterval(window.loadTime),delete window.loadTime};return{show:l,showPopup:()=>{l.value=!0,""===c.value&&e.$patch({modelType:"model"})},handelBtnList:s,modelBtnList:i,modelTypeList:r,hidePopup:t=>{e.$patch({modelType:t}),l.value=!1},px2rem:u,showFloor:o,showHandleFloor:()=>{t()},modelType:c,handleClick:e=>{switch(e){case"undo":window.editor.list.undo.dispatch();break;case"redo":window.editor.list.redo.dispatch();break;case"del":case"delAll":window.editor.list.deleteForMobile.dispatch(e);break;case"export":window.editor.list.exportGLTF.dispatch("pdf")}},showModelInfo:n,changeShowModelInfo:a}}}),Ae={class:"editorContainer"},Ue={class:"editorToolLeft",scrollbar:!0},De={class:"e-t-l-container"},Ee={class:"e-t-top"},qe={class:"e-t-bottom"},Ve={class:"editorToolCenter"},Ne={class:"editorFloor-right"},Ge={class:"editorToolRight"},Ke={class:"e-t-r-container"},Je={class:"e-r-top"},Qe={class:"e-r-bottom"};e("default",k(We,[["render",function(e,l,t,o,a,n){const s=Le,r=G,c=O("HandleFloor"),u=ue,d=O("EditorFloor"),h=O("NameFloor"),v=Fe,p=ee,f=ne,w=V,g=O("router-view");return F(),C("div",Ae,[i(s),L("div",Ue,[L("div",De,[L("div",Ee,[(F(!0),C(m,null,I(e.handelBtnList,(l=>(F(),M(r,{key:l.name,"button-height":"65px",name:l.name,icon:l.icon,onClick:t=>e.handleClick(l.type)},null,8,["name","icon","onClick"])))),128))]),L("div",qe,[i(r,{name:"楼层","button-height":"65px",class:"floorButton","class-name":e.showFloor?"orangeButton":"whiteButton","icon-margin":"8px",icon:"ziyuanFloors17",onClick:l[0]||(l[0]=l=>e.showHandleFloor())},null,8,["class-name"])])])]),B(L("div",Ve,[i(c),L("div",Ne,[i(u),i(d),i(h)])],512),[[_,e.showFloor]]),B(i(v,null,null,512),[[_,e.showModelInfo]]),L("div",Ge,[L("div",Ke,[L("div",Je,[i(r,{icon:"youzhaixuanxiang","class-name":"titleButton","button-height":"30px",onClick:e.showPopup},null,8,["onClick"]),i(w,{show:e.show,"onUpdate:show":l[1]||(l[1]=l=>e.show=l),position:"right",overlay:!0,"overlay-style":{width:"100%",left:"0",background:"transparent"},style:q({width:e.px2rem("195px"),height:"100%"})},{default:R((()=>[i(f,null,{default:R((()=>[(F(!0),C(m,null,I(e.modelTypeList,(l=>(F(),M(p,{id:l.id,key:l.path,center:"",class:j([{active:e.modelType===l.id},"van-ellipsis"]),style:q({fontSize:e.px2rem("16px"),height:e.px2rem("44px")}),title:l.value,to:l.path,onClick:t=>e.hidePopup(l.id)},null,8,["id","class","style","title","to","onClick"])))),128))])),_:1})])),_:1},8,["show","style"])]),L("div",Qe,[i(g)])])])])}],["__scopeId","data-v-09aa7175"]]))}}}));
