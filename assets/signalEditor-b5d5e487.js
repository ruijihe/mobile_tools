import{u as k}from"./index-91153539.js";import{m as h}from"./data-b5989b8c.js";import{s as g,a as L,b as B}from"./data-028d16fe.js";import{w as y,r as m,c as S}from"./index-9591f051.js";y(g);const e=m(h.roomInfo),t=m(h.wallInfo),s=m(h.drawWallInfo),d=m(B.handelBtnList),n=k(),c=S(()=>n.modelType);class M{constructor(){this.setupEventListeners()}setupEventListeners(){window.editor.list.showModelMsg.add(o=>{if(n.resetGlobalObj(),o){switch(n.changeShowModelInfo(!0,o.type),o.type){case"room":o.rotationLock?(e.value[4].icon="sisuo",e.value[4].class="checkedButton",e.value[4].lock=o.rotationLock):(e.value[4].icon="weisuoding",e.value[4].class="orangeButton",e.value[4].lock=o.rotationLock),o.positionLock?(e.value[3].icon="sisuo",e.value[3].class="checkedButton",e.value[3].lock=o.positionLock):(e.value[3].icon="weisuoding",e.value[3].class="orangeButton",e.value[3].lock=o.positionLock);break;case"wall":o.lengthLock?(t.value[2].icon="sisuo",t.value[2].class="checkedButton",t.value[2].lock=o.lengthLock):(t.value[2].icon="weisuoding",t.value[2].class="orangeButton",t.value[2].lock=o.lengthLock),o.positionLock?(t.value[3].icon="sisuo",t.value[3].class="checkedButton",t.value[3].lock=o.positionLock):(t.value[3].icon="weisuoding",t.value[3].class="orangeButton",t.value[3].lock=o.positionLock);break;case"drawWall":o.autoCompletion?(s.value[1].class="checkedButton",s.value[1].lock=o.autoCompletion):(s.value[1].class="orangeButton",s.value[1].lock=o.autoCompletion),o.hvSwitch?(s.value[2].icon="huangshuqihuan-shu",s.value[2].class="checkedButton",s.value[2].lock=o.autoCompletion):(s.value[2].icon="huangshuqihuan-moren",s.value[2].class="orangeButton",s.value[2].lock=o.autoCompletion)}n.$patch({globalObj:o})}else n.changeShowModelInfo(!1,o.type)}),window.editor.list.sendFloorParam.add(o=>{n.resetFloorParam(),o&&n.$patch({floorParam:o})}),window.editor.list.switchCameraIcon.add(o=>{o==="3D"?(d.value[4].name="2D",d.value[4].icon="2D"):o==="2D"&&(d.value[4].name="3D",d.value[4].icon="3D")}),window.editor.list.showToast.add((o,r="bottom")=>{let l;r==="bottom"?l=!0:r==="top"&&(l=!1),L({message:o,position:l?"bottom":"top"})}),window.editor.list.getDomByPoint.add((o,r,l,p)=>{window.editor.currentDom="",l==="touchEnd"&&(document.querySelector(".editorToolRight").style.display="block");let f=document.querySelectorAll(".construction_btn");l==="touchMove"&&(f=document.querySelectorAll(".e-r-bottom"));for(let v=0;v<f.length;v++){const w=f[v],u=w.getBoundingClientRect();if(!(o>=u.left&&o<=u.right&&r>=u.top&&r<=u.bottom))l==="touchMove"&&(document.querySelector(".editorToolRight").style.display="none");else{window.editor.currentDom=w;let a=w.getAttribute("use-type");if(l==="touchStart")if(console.log(c.value),c.value==="model"){let i='{"roomArr":[[-2000, 2000], [-2000, -2000], [2000, -2000], [2000, 2000], [-2000, 2000]]}';a==="square"?i='{"roomArr":[[-2000, 2000], [-2000, -2000], [2000, -2000], [2000, 2000], [-2000, 2000]]}':a==="lShape"?i='{"roomArr":[[-2000, 2000], [-2000, -2000], [2000, -2000], [2000, 0], [0, 0], [0, 2000], [-2000, 2000]]}':a==="uShape"?i='{"roomArr":[[-2000, 2000], [-2000, -2000], [2000, -2000], [2000, 2000], [400, 2000], [400,0], [-400, 0], [-400, 2000], [-2000, 2000]]}':a==="tShape"?i='{"roomArr":[[-2000, 2000], [-2000, 0], [-1200, 0], [-1200, -2000], [1200, -2000], [1200, 0], [2000, 0], [2000, 2000], [-2000, 2000]]}':a==="sShape"&&(i='{"roomArr":[[-2000, -2000], [600, -2000], [600, 800], [2000, 800], [2000, 2000], [-600,2000], [-600, -800], [-2000, -800], [-2000,  -2000]]}'),a!="wall"?window.editor.selCacheJson=i:i='{"roomArr":[[-2000, 0],[2000, 0]]}'}else c.value==="door"||c.value==="window"?window.editor.toolType=a:c.value;if(l==="touchMove"){const i=document.querySelector(".e-r-bottom");i.scrollTop+=p*2}l==="touchEnd"&&a==="wall"&&(window.editor.toolType=a)}}})}}export{M as default};
