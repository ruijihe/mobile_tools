import{u as g}from"./index-5f387ea4.js";import{m as p}from"./data-b5989b8c.js";import{s as y,a as S,b as k}from"./data-26bf5ac9.js";import{w as I,r as m,c as L}from"./index-a8958ef4.js";I(y);const r=m(p.roomInfo),u=m(p.wallInfo),l=m(p.drawWallInfo),c=m(k.handelBtnList),n=g(),d=L(()=>n.modelType);class M{constructor(){this.setupEventListeners()}setupEventListeners(){window.editor.list.showModelMsg.add(e=>{if(n.resetGlobalObj(),e){switch(n.changeShowModelInfo(!0,e.type),e.type){case"room":e.rotationLock?r.value[4].icon="sisuo":r.value[4].icon="weisuoding",e.positionLock?r.value[3].icon="sisuo":r.value[3].icon="weisuoding";break;case"wall":e.lengthLock?u.value[2].icon="sisuo":u.value[2].icon="weisuoding",e.positionLock?u.value[3].icon="sisuo":u.value[3].icon="weisuoding";break;case"drawWall":e.autoCompletion?(l.value[1].class="checkedButton",l.value[1].lock=e.autoCompletion):(l.value[1].class="orangeButton",l.value[1].lock=e.autoCompletion),e.hvSwitch?(l.value[2].icon="huangshuqihuan-shu",l.value[2].class="checkedButton",l.value[2].lock=e.autoCompletion):(l.value[2].icon="huangshuqihuan-moren",l.value[2].class="orangeButton",l.value[2].lock=e.autoCompletion)}n.$patch({globalObj:e})}else n.changeShowModelInfo(!1,e.type)}),window.editor.list.switchCameraIcon.add(e=>{e==="3D"?(c.value[4].name="2D",c.value[4].icon="2D"):e==="2D"&&(c.value[4].name="3D",c.value[4].icon="3D")}),window.editor.list.showToast.add((e,s="bottom")=>{let o;s==="bottom"?o=!0:s==="top"&&(o=!1),S({message:e,position:o?"bottom":"top"})}),window.editor.list.getDomByPoint.add((e,s,o,v)=>{window.editor.currentDom="",o==="touchEnd"&&(document.querySelector(".editorToolRight").style.display="block");let f=document.querySelectorAll(".construction_btn");o==="touchMove"&&(f=document.querySelectorAll(".e-r-bottom"));for(let w=0;w<f.length;w++){const h=f[w],a=h.getBoundingClientRect();if(!(e>=a.left&&e<=a.right&&s>=a.top&&s<=a.bottom))o==="touchMove"&&(document.querySelector(".editorToolRight").style.display="none");else{window.editor.currentDom=h;let t=h.getAttribute("use-type");if(o==="touchStart")if(d.value==="model"){let i='{"roomArr":[[-2000, 2000], [-2000, -2000], [2000, -2000], [2000, 2000], [-2000, 2000]]}';t==="square"?i='{"roomArr":[[-2000, 2000], [-2000, -2000], [2000, -2000], [2000, 2000], [-2000, 2000]]}':t==="lShape"?i='{"roomArr":[[-2000, 2000], [-2000, -2000], [2000, -2000], [2000, 0], [0, 0], [0, 2000], [-2000, 2000]]}':t==="uShape"?i='{"roomArr":[[-2000, 2000], [-2000, -2000], [2000, -2000], [2000, 2000], [400, 2000], [400,0], [-400, 0], [-400, 2000], [-2000, 2000]]}':t==="tShape"?i='{"roomArr":[[-2000, 2000], [-2000, 0], [-1200, 0], [-1200, -2000], [1200, -2000], [1200, 0], [2000, 0], [2000, 2000], [-2000, 2000]]}':t==="sShape"&&(i='{"roomArr":[[-2000, -2000], [600, -2000], [600, 800], [2000, 800], [2000, 2000], [-600,2000], [-600, -800], [-2000, -800], [-2000,  -2000]]}'),t!="wall"&&(window.editor.selCacheJson=i)}else d.value==="door"||d.value==="window"?window.editor.toolType=t:d.value;if(o==="touchMove"){const i=document.querySelector(".e-r-bottom");i.scrollTop+=v*2}o==="touchEnd"&&t==="wall"&&(window.editor.toolType=t)}}})}}export{M as default};
